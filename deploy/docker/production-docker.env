# Backend Docker Production Environment Configuration
# Use this file with: docker-compose -f docker-compose.prod.yml --env-file deploy/docker/production-docker.env up

# Application Configuration
NODE_ENV=production
LOG_LEVEL=info
API_PREFIX=/api/v1

# Database Configuration
POSTGRES_USER=backend_prod_user
POSTGRES_PASSWORD=change_this_secure_password_123!
POSTGRES_DB=backend_prod_db
DATA_PATH=./production-data

# Redis Configuration  
REDIS_PASSWORD=change_this_redis_password_456!

# JWT & Security
JWT_SECRET=your-super-secure-jwt-secret-key-minimum-32-characters-long-change-this
JWT_REFRESH_SECRET=your-super-secure-refresh-secret-key-minimum-32-characters-long-change-this
BCRYPT_SALT_ROUNDS=12

# CORS & Frontend
CORS_ORIGIN=https://yourdomain.com
CORS_CREDENTIALS=true
FRONTEND_URL=https://yourdomain.com

# Rate Limiting
RATE_LIMIT_TTL=60
RATE_LIMIT_LIMIT=100

# Email Configuration
EMAIL_HOST=smtp.yourdomain.com
EMAIL_PORT=587
EMAIL_USER=noreply@yourdomain.com
EMAIL_PASSWORD=your_email_password
EMAIL_FROM=noreply@yourdomain.com
EMAIL_FROM_NAME=Your App Name

# AI Service Keys (Optional)
OPENAI_API_KEY=your-openai-api-key-here
ANTHROPIC_API_KEY=your-anthropic-api-key-here

# Error Tracking & Monitoring
SENTRY_DSN=https://your-sentry-dsn@sentry.io/project-id
SENTRY_ENVIRONMENT=production
SENTRY_RELEASE=1.0.0

# Nginx Configuration
NGINX_HOST=api.yourdomain.com
NGINX_HTTP_PORT=80
NGINX_HTTPS_PORT=443

# Docker Configuration
APP_PORT=8000
APP_REPLICAS=1

# Backup Configuration
BACKUP_SCHEDULE=0 2 * * *

# SSL/TLS (when available)
SSL_CERT_PATH=./ssl/fullchain.pem
SSL_KEY_PATH=./ssl/privkey.pem

# Resource Limits
POSTGRES_MAX_CONNECTIONS=100
REDIS_MAX_MEMORY=256mb

# Compose Configuration
COMPOSE_PROJECT_NAME=backend-prod
COMPOSE_FILE=docker-compose.prod.yml
DOCKER_BUILDKIT=1
COMPOSE_DOCKER_CLI_BUILD=1

# Logging
LOG_DRIVER=json-file
LOG_MAX_SIZE=50m
LOG_MAX_FILE=5

# Security
DOCKER_CONTENT_TRUST=1

# Health Check Configuration
HEALTH_CHECK_INTERVAL=30s
HEALTH_CHECK_TIMEOUT=10s
HEALTH_CHECK_RETRIES=3
HEALTH_CHECK_START_PERIOD=60s

# Network Configuration
BACKEND_NETWORK_SUBNET=172.20.0.0/16
